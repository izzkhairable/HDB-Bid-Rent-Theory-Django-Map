<!DOCTYPE html>
<html>

<head>
    <title>Simple Map</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script type="text/javascript">
        var hdb_data_json = `{{ hdb_data_json  | safe }}`;
        var min_price_sqm = `{{ min_price_sqm }}`;
        var max_price_sqm = `{{ max_price_sqm }}`;
    </script>
    {% load static %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}" />
    <script type=text/javascript src="{% static 'downtown_polygon.js' %}"></script>
    <script type=text/javascript src="{% static 'index.js' %}"></script>
</head>

<body>
    <div class="container-fluid p-0 m-0">
        <div class="mx-auto d-flex flex-row justify-content-center p-2">
            <div class="p-2">
                <form class="form-inline" action="/" method="get">
                    <div class="form-group mb-2">
                        <label for="inputPassword2" class="p-1">Month:</label>
                        <select class="form-control form-control-sm" name="month">
                            {% for month in months %}
                            {% if month_selected == month %}
                            <option value="{{month}}" selected>{{month}}</option>
                            {%else%}
                            <option value="{{month}}">{{month}}</option>
                            {%endif%}
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group mx-sm-3 mb-2">
                        <label for="inputPassword2" class="p-1">Year:</label>
                        <select class="form-control form-control-sm" name="year">
                            {% for year in years %}
                            {% if year_selected == year %}
                            <option value="{{year}}" selected>{{year}}</option>
                            {%else%}
                            <option value="{{year}}">{{year}}</option>
                            {%endif%}
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="btn btn-sm btn-primary mb-2">Show</button>
                </form>
            </div>
        </div>
    </div>
    <div id="map">
    </div>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBI9woWgSBM-4ZR5JpxjibS-pIALzZo4WU&callback=initMap&v=weekly"
        async></script>
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>